#include <stdio.h>
#define ESTUDIANTES 5
#define ASIGNATURAS 3
#define NOTA_APROBATORIA 6.0

int main() {
   
    float calificaciones[ESTUDIANTES][ASIGNATURAS];
    int i, j;

    printf("--- INGRESO DE CALIFICACIONES ---\n");
    for (i = 0; i < ESTUDIANTES; i++) {
       
        printf("\n--- Estudiante %d ---\n", i + 1);
       
        for (j = 0; j < ASIGNATURAS; j++) {
           
            do {
                printf("Ingrese la calificacion para la Asignatura %d: ", j + 1);
                scanf("%f", &calificaciones[i][j]);
               
                if (calificaciones[i][j] < 0 || calificaciones[i][j] > 10) {
                    printf("Error: La calificacion debe estar entre 0 y 10. Intente de nuevo.\n");
                }
            } while (calificaciones[i][j] < 0 || calificaciones[i][j] > 10);
        }
    }

    printf("\n\n--- REPORTE DE CALIFICACIONES ---\n");
   
    printf("\n## Estadisticas por Estudiante ##\n");
    for (i = 0; i < ESTUDIANTES; i++) {
        float suma = 0;
        float promedio;
        float calif_max = calificaciones[i][0];
        float calif_min = calificaciones[i][0];
       
        for (j = 0; j < ASIGNATURAS; j++) {
            suma += calificaciones[i][j];
            if (calificaciones[i][j] > calif_max) {
                calif_max = calificaciones[i][j];
            }
            if (calificaciones[i][j] < calif_min) {
                calif_min = calificaciones[i][j];
            }
        }
        promedio = suma / ASIGNATURAS;
        printf("Estudiante %d: Promedio = %.2f, Calif. Max = %.2f, Calif. Min = %.2f\n",
               i + 1, promedio, calif_max, calif_min);
    }
   
   
    printf("\n## Estadisticas por Asignatura ##\n");
    for (j = 0; j < ASIGNATURAS; j++) {
        float suma = 0;
        float promedio;
        float calif_max = calificaciones[0][j];
        float calif_min = calificaciones[0][j];
        int aprobados = 0;
        int reprobados = 0;
       
        for (i = 0; i < ESTUDIANTES; i++) {
            suma += calificaciones[i][j];
            if (calificaciones[i][j] > calif_max) {
                calif_max = calificaciones[i][j];
            }
            if (calificaciones[i][j] < calif_min) {
                calif_min = calificaciones[i][j];
            }
            if (calificaciones[i][j] >= NOTA_APROBATORIA) {
                aprobados++;
            } else {
                reprobados++;
            }
        }
        promedio = suma / ESTUDIANTES;
        printf("\n--- Asignatura %d ---\n", j + 1);
        printf("Promedio: %.2f\n", promedio);
        printf("Calificacion mas alta: %.2f\n", calif_max);
        printf("Calificacion mas baja: %.2f\n", calif_min);
        printf("Estudiantes aprobados: %d\n", aprobados);
        printf("Estudiantes reprobados: %d\n", reprobados);
    }

    return 0;
}